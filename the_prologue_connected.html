<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,maximum-scale=1"
    />
    <!-- description -->
    <meta
      content="Namastey NFT MEGA Metaverse Summit 2022
      Bengaluru International Exhibition Centre, Bengaluru
      14-15th May, 2022"
      name="description"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      content="Namastey NFT MEGA Metaverse Summit 2022
      Bengaluru International Exhibition Centre, Bengaluru
      14-15th May, 2022"
      property="og:description"
    />
    <meta
      content="https://images.typeform.com/images/iTfKM2uRjgLn/image/default"
      property="og:image"
    />

    <!-- keywords -->
    <meta name="keywords" content="" />
    <!-- title -->
    <title>Namastey NFT presents</title>
    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="manifest" href="/img/site.webmanifest">
    <link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <!-- animation -->
    <link rel="stylesheet" href="css/animate.css" />
    <!-- bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- font-awesome icon -->
    <link rel="stylesheet" href="css/font-awesome.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <!-- magnific popup -->
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <!-- cube Portfolio -->
    <link rel="stylesheet" href="css/cubeportfolio.min.css" />
    <!-- lity Gallery -->
    <link rel="stylesheet" href="css/lity.min.css" />
    <!-- push Menu -->
    <link rel="stylesheet" href="css/jPushMenu.css" />
    <!-- revolution slider -->
    <link
      rel="stylesheet"
      type="text/css"
      href="revolution/css/settings.css"
      media="screen"
    />
    <link rel="stylesheet" type="text/css" href="revolution/css/layers.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="revolution/css/navigation.css"
    />
    <!-- owl carousel -->
    <link
      href="css/owl.carousel.min.css"
      rel="stylesheet"
      type="text/css"
      media="all"
    />
    <link
      href="css/owl.theme.default.min.css"
      rel="stylesheet"
      type="text/css"
      media="all"
    />
    <!-- bootsnav -->
    <link rel="stylesheet" href="css/bootsnav.css" />
    <!-- bundle css -->
    <link rel="stylesheet" href="css/packed.css" />
    <!-- style -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- Custom Style -->
    <link rel="stylesheet" href="css/custom.css" />
    <link rel="stylesheet" href="css/the_prologue.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.3/web3.min.js"
      integrity="sha512-Ws+qbaGHSFw2Zc1e7XRpvW+kySrhmPLFYTyQ95mxAkss0sshj6ObdNP3HDWcwTs8zBJ60KpynKZywk0R8tG1GA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>

  <body
    data-spy="scroll"
    data-target=".navbar"
    data-offset="90"
    class="blue-push-menu"
  >
    <!-- start loader -->
    <div id="loader" style="display: none">
      <div class="sk-cube-grid">
        <div class="sk-cube sk-cube1"></div>
        <div class="sk-cube sk-cube2"></div>
        <div class="sk-cube sk-cube3"></div>
        <div class="sk-cube sk-cube4"></div>
        <div class="sk-cube sk-cube5"></div>
        <div class="sk-cube sk-cube6"></div>
        <div class="sk-cube sk-cube7"></div>
        <div class="sk-cube sk-cube8"></div>
        <div class="sk-cube sk-cube9"></div>
      </div>
    </div>
    <!-- end loader -->
    <div class="conteiner_center">
      <!-- start header -->
      <header>
        <!-- start navigation -->
        <nav
          class="navbar navbar-default bootsnav navbar-fixed-top nav-white header-light bg-transparent nav-box-width white-link on no-full"
        >
          <div class="container nav-header-container">
            <div class="row">
              <!-- start logo -->
              <div class="col-md-2 col-xs-5">
                <a href="index.html" title="Logo" class="logo">
                  <img
                    src="img/logo.svg"
                    class="logo-dark"
                    alt="Namastey NFT Logo"
                  />
                  <img
                    src="img/logo.svg"
                    alt="Namastey NFT Logo"
                    class="logo-light default"
                  />
                </a>
              </div>
              <!-- end logo -->
              <div
                class="col-md-7 col-xs-2 width-auto pull-right accordion-menu"
              >
                <button
                  type="button"
                  class="navbar-toggle pull-right toggle-menu menu-right"
                >
                  <span class="sr-only">toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <div
                  class="navbar-collapse collapse pull-right"
                  id="navbar-collapse-toggle-1"
                >
                  <ul
                    class="nav navbar-nav navbar-left panel-group no-margin alt-font font-weight-800"
                  >
                    <li>
                      <a href="index.html">Home</a>
                    </li>
                    <li>
                      <a href="events.html">Event</a>
                    </li>
                    <li>
                      <a href="events.html#speakers">Speakers</a>
                    </li>
                    <li>
                      <a href="events.html">Submit Art</a>
                    </li>
                    <li>
                      <a href="faqs.html">FAQs</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </nav>
        <!-- end navigation -->

        <!-- Right menu element-->
        <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right">
          <div class="blue-push-top">
            <div class="blue-push-cross">
              <i class="fa fa-bars" aria-hidden="true"></i>
            </div>
          </div>
          <ul class="blue-push-nav">
            <li><a href="index.html">Home</a></li>
            <li><a href="events.html">Event</a></li>
            <li><a href="events.html#speakers">Speakers</a></li>
            <li><a href="events.html">Submit Art</a></li>
            <li><a href="faqs.html" class="scroll">FAQs</a></li>
          </ul>
        </nav>
      </header>
      <!-- end header -->

      <!-- Hero Banner -->
      <section
        class="text-white xboot-section btn-version"
        id="the_prologue_main"
      >
        <div class="container">
          <div class="row">
            <div class="col-md-5">
              <div class="centre_text">
                <div class="prologue_logo">
                  <h6
                    class="alt-font text-capitalize alt-font text-white margin-5px-bottom font-weight-600 minting_title"
                  >
                    MINTING <span>LIVE</span>
                  </h6>
                  <img src="img/prologue_logo.png" />
                </div>
                <!-- <div class="buttons_div">
                  <a href="#" class="btn btn-blue btn-small"
                    >VERIFIED CONTRACT</a
                  >
                  <a href="#" class="btn btn-blue btn-small margin-10px-top"
                    >OPENSEA COLLECTION</a
                  ></div> -->
                <h5
                  class="alt-font text-capitalize alt-font text-white margin-10px-bottom margin-10px-top font-weight-700 sm-width-100 xs-width-100 prologue_title"
                >
                  NamasteyNFT The Prologue
                </h5>
                <div class="supply">
                  <h6
                    class="alt-font text-capitalize alt-font text-white margin-5px-bottom font-weight-600 sm-width-100 xs-width-100"
                  >
                    Supply: 300 NFTs
                  </h6>
                  <h6
                    class="alt-font text-capitalize alt-font text-white margin-5px-bottom font-weight-600 sm-width-100 xs-width-100"
                  >
                    ETH: @ 0.25
                  </h6>
                </div>
                <p class="margin-10px-top">
                  "The Prologue" is an aptly named project as it is a prologue
                  to the success that NamasteyNFT will be. With the goal to
                  empower more artists to get into Web 3, this collection marks
                  it's first step. This collection made of all all genres of art
                  from 2D to animations to poetry. The message is art cannot be
                  put in a box and defined. Art is an embodiment of inclusivity.
                  Art is a creative expression made material, art tells a story.
                  Each piece in this collection be it Photography, 2D art, 3D
                  art, traditional art, Music, Poetry, Illustration, Photo
                  manipulation, AI, or Video artistry. It has the artists
                  community, culture and their very soul made bare. We at
                  NamasteyNFT wanted to celebrate this unique inclusivity in art
                  and support the community. And to that end, the art pieces
                  will be use blind minting contracts with 80% of the first sale
                  going to the artist and the 10% royalty completely going into
                  their pockets.
                </p>
              </div>
            </div>
            <div class="col-md-7">
              <div class="wallet_box_connected">
                <!-- THIS IS FOR WHOLE ROW -->
                <div class="bundleAndWallet">
                  <div class="preference_choose">
                    <div id="customise_bundle">
                      <button style="border-style:none; background-color:transparent;" onclick="CustomiseBundle()">
                        Customise
                      </button>
                    </div>
                    <div id="choose_bundle">
                      <button style="border-style:none; background-color:transparent;" onclick="ChooseBundle()">
                        Choose a Bundle
                      </button>
                    </div>
                  </div>
                  <a href="#" class="btn btn-blue btn-large btn-code"
                    >0xE953...56ee</a
                  >
                </div>
                <!-- Option 1 -->
                <div id="selectChoose" style="display: none;" >
                  <div id="premium_bundle" onclick="clickPremium()" style="border-radius: 8px; background-color:#6D46FF ; padding: 10px 0px; margin: 30px 0px; margin-bottom: 0px;">
                    <div style="position: relative; top: 35%; left: 35%;">
                      <div class="round">
                        <img src="/img/tick_image.png" id="primiumTick" style=" display: flex; justify-content: center; align-items: center; height: 30px; width:30px; border-radius: 50%;" alt="">
                        <img src="/img/untick.png" id="primiumUnTick" style=" display: none; justify-content: center; align-items: center; height: 30px; width:30px; border-radius: 50%;" alt="">
                      </div>
                    </div>
                    <div style="display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start;">
                      <p style=" font-size: 20px;">Premium bundle - 15% Off</p>
                      <p style="font-size: 14px;">A selection of 8 artworks from random categories</p>
                    </div>
                    <div style="display:flex; justify-content:flex-end; flex-direction: column; align-items: flex-end; padding-right: 20px;">
                      <p style="font-size: 24px;">Total 5</p>
                    </div>
                  </div>
                  <br>
                  <div id="Special_bundle" onclick="clickSpecial()" style="border-radius: 8px; background-color:#000000 ; padding: 10px 0px; margin: 30px 0px; margin-top: 0px;">
                    <div style="position: relative; top: 35%; left: 35%;">
                      <div class="round" >
                        <img src="/img/tick_image.png" id="specialTick" style=" display: none; justify-content: center; align-items: center; height: 30px; width:30px; border-radius: 50%;" alt="">
                        <img src="/img/untick.png" id="specialUnTick" style=" display: flex; justify-content: center; align-items: center; height: 30px; width:30px; border-radius: 50%;" alt="">
                      </div>
                    </div>
                    <div style="display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start;">
                      <p style=" font-size: 20px;">Special bundle - 10% Off</p>
                      <p style="font-size: 14px;">A selection of 4 artworks from random categories</p>
                    </div>
                    <div style="display:flex; justify-content:flex-end; flex-direction: column; align-items: flex-end; padding-right: 20px">
                      <p style="font-size: 24px;">Total 5</p>
                    </div>
                  </div>
                  <div class="final_result_calculate">
                    <p id="eth_Price">@2 ETH </p>
                    <p id="eth_PriceGas">@ 1.7 ETH + gas</p>
                    <button>MINT</button>
                  </div>
                </div>
                <!-- Option 2 -->
                <div id="selectCustomise" >
                  <div class="dark-theme">
                    <div class="dark-theme-top">
                        <p style="font-family: 'Rubik'; font-style: normal; font-weight: 600; font-size: 18px; color: #FF4320;">
                          133/300 Minted
                        </p>
                        <p style="font-family: 'Rubik'; font-style: normal; font-weight: 600; font-size: 18px;">
                          Get 5 @ 10% Off
                        </p>
                    </div>
                    <div class="category_tags_2">
                        <div class="Photography_category">

                          <div class="count-how-many-left">
                            <p style="margin:0% ;">Photography</p>
                            <p style="margin:0% ; color: 967AFF;">Available - <span id="Photography-available">28</span></p>
                          </div>
                          <div class="count-how-many">
                            <form>
                              <div class="value-button" id="decrease1" onclick="decreaseValue1()" value="Decrease Value">-</div>
                              <input type="number" id="number1" value="0" min="0" max="3" />
                              <div class="value-button" id="increase1" onclick="increaseValue1()" value="Increase Value">+</div>
                            </form>
                          </div>
                        </div>
                        <div class="Traditional_Art">
                          <div class="count-how-many-left">
                            <p style="margin:0% ;">Traditional Art</p>
                            <p style="margin:0% ; color: 967AFF;">Available - <span id="Traditional-art-available">45</span></p>
                          </div>
                          <div class="count-how-many">
                            <form>
                              <div class="value-button" id="decrease2" onclick="decreaseValue2()" value="Decrease Value">-</div>
                              <input type="number" id="number2" value="0" />
                              <div class="value-button" id="increase2" onclick="increaseValue2()" value="Increase Value">+</div>
                            </form>
                          </div>
                        </div>
                        <div class="Digital_Media_category">
                          <div class="count-how-many-left">
                            <p style="margin:0% ;">Digital Art</p>
                            <p style="margin:0% ; color: 967AFF;">Available - <span id="digital-art-available">63</span></p>
                          </div>
                          <div class="count-how-many">
                            <form>
                              <div class="value-button" id="decrease3" onclick="decreaseValue3()" value="Decrease Value">-</div>
                              <input type="number" id="number3" value="0" />
                              <div class="value-button" id="increase3" onclick="increaseValue3()" value="Increase Value">+</div>
                            </form>
                          </div>
                        </div>
                        <div class="Music_category">
                          <div class="count-how-many-left">
                            <p style="margin:0% ;">Music</p>
                            <p style="margin:0% ; color: 967AFF;">Available - <span id="music-available">3</span></p>
                          </div>
                          <div class="count-how-many">
                            <form>
                              <div class="value-button" id="decrease4" onclick="decreaseValue4()" value="Decrease Value">-</div>
                              <input type="number" id="number4" value="0" />
                              <div class="value-button" id="increase4" onclick="increaseValue4()" value="Increase Value">+</div>
                            </form>
                          </div>
                        </div>
                        <div class="Poetry_category">
                          <div class="count-how-many-left">
                            <p style="margin:0% ;">Poetry</p>
                            <p style="margin:0% ; color: 967AFF;">Available - <span id="poetry-available">2</span></p>
                          </div>
                          <div class="count-how-many">
                            <form>
                              <div class="value-button" id="decrease5" onclick="decreaseValue5()" value="Decrease Value">-</div>
                              <input type="number" id="number5" value="0" />
                              <div class="value-button" id="increase5" onclick="increaseValue5()" value="Increase Value">+</div>
                            </form>
                          </div>
                        </div>
                        <div class="Film_category">
                          <div class="count-how-many-left">
                            <p style="margin:0% ;">Film</p>
                            <p style="margin:0% ; color: 967AFF;">Available - <span id="film-available">2</span></p>
                          </div>
                          <div class="count-how-many">
                            <form>
                              <div class="value-button" id="decrease6" onclick="decreaseValue6()" onclick="changeResult()" value="Decrease Value">-</div>
                              <input type="number" id="number6" value="0" />
                              <div class="value-button" id="increase6" onclick="increaseValue6()"  value="Increase Value">+</div>
                            </form>
                          </div>
                        </div>
                        
                    </div>
                  </div>
                  <div class="final_result_calculate">
                    <p> <span id="total_artworks">0</span> Artworks </p>
                    <p> @<span id="find_res_ETH">0</span> ETH + gas</p>
                    <button>MINT</button>
                  </div>
                
                </div>
                
              <div style="display: flex; flex-direction:row; justify-content:baseline">
              <p style="width: 301px;"> <a style=" color: #748EC7;" href="#">Verified Contract</a></p> 
              <p style="width: 301px;"> <a style=" color: #748EC7;" href="#">Opensea Collection</a></p> 
              <p style="width: 301px; color: #748EC7;"> After minting, head to <a style=" color: #748EC7;" href="#">your wallet</a> on OpenSea to view. </p>   
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Hero Banner end -->

      <!--footer Start-->
      <footer class="bg-extra-dark-gray padding-30px-tb">
        <div class="footer-widget-area">
          <div class="container">
            <div class="footer_top">
              <div class="footer_left">
                <div class="logo">
                  <img
                    loading="lazy"
                    src="img/NamasteyNFTblr_decentology_w.svg"
                    style="width: auto"
                  />
                </div>
                <ul>
                  <li><a href="index.html">Home</a></li>
                  <li><a href="index.html#event">Event</a></li>
                  <li><a href="index.html#about">About us</a></li>
                  <li><a href="index.html#team">Team</a></li>
                  <li><a href="index.html#showcase">Showcase</a></li>
                  <li><a href="index.html#FAQs">FAQs</a></li>
                </ul>
              </div>
              <div class="footer_right">
                <p>Want to be a part of this cool community?</p>
                <a
                  href="https://discord.gg/namasteynft"
                  class="btn btn-blue btn-medium margin-20px-top footer_btn"
                  target="_blank"
                  onclick="event.stopPropagation()"
                  ><img
                    loading="lazy"
                    src="img/discord.png"
                    class="join-button"
                  />
                  Join Discord</a
                >
                <a
                  href="https://namasteynft.typeform.com/volunteer"
                  class="btn btn-blue btn-medium margin-20px-top footer_btn"
                  style="
                    background: white !important;
                    border: 1px solid gray;
                    color: #ff4220 !important;
                  "
                  target="_blank"
                  onclick="event.stopPropagation()"
                  >Volunteer</a
                >
              </div>
            </div>
            <div class="footer_bot">
              <div class="footer_left">
                <p class="text-light-gray">
                  Copyright Â© 2022 NamasteyNFT - All Rights Reserved.
                </p>
              </div>
              <div class="footer_right">
                <div
                  class="medium-icon social-icon-style-3 social_icon list-inline"
                >
                  <a
                    class="facebook text-white instagram-bg-hvr wow fadeInUp"
                    data-wow-duration=".5s"
                    href="https://instagram.com/namasteynft"
                    target="_blank"
                  >
                    <i class="fa fa-instagram" aria-hidden="true"></i
                    ><span></span>
                  </a>
                  <a
                    class="pinterest text-white linkedin-bg-hvr wow fadeInUp"
                    data-wow-duration=".5s"
                    href="https://www.linkedin.com/company/80070363"
                    target="_blank"
                  >
                    <i class="fa fa-linkedin" aria-hidden="true"></i
                    ><span></span>
                  </a>
                  <a
                    class="google text-white discord-bg-hvr wow fadeInDown"
                    data-wow-duration=".5s"
                    href="https://discord.gg/namasteynft"
                    target="_blank"
                  >
                    <span><img loading="lazy" src="img/discord.png" /></span>
                  </a>
                  <a
                    class="twitter text-white twitter-bg-hvr wow fadeInDown"
                    data-wow-duration=".5s"
                    href="https://twitter.com/namasteynft"
                    target="_blank"
                  >
                    <i class="fa fa-twitter" aria-hidden="true"></i
                    ><span></span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>
      <!-- end footer -->
    </div>
    <!-- start scroll to top -->
    <a class="scroll-top-arrow" href="javascript:void(0);"
      ><i class="fa fa-angle-up"></i
    ></a>
    <!-- end scroll to top  -->

    <!-- javascript libraries -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.appear.js"></script>

    <!-- counter -->
    <script src="js/jquery.count-to.js"></script>
    <!-- magnific popup -->
    <script src="js/jquery.magnific-popup.min.js"></script>
    <!-- cube portfolio -->
    <script src="js/jquery.cubeportfolio.min.js"></script>
    <!-- owl carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- lity gallery -->
    <script src="js/lity.min.js"></script>
    <!-- push Menu -->
    <script src="js/jPushMenu.js"></script>
    <!-- wow -->
    <script src="js/wow.min.js"></script>
    <!-- revolution -->
    <script src="revolution/js/jquery.themepunch.tools.min.js"></script>
    <script src="revolution/js/jquery.themepunch.revolution.min.js"></script>
    <!-- revolution extension -->
    <script src="revolution/js/extensions/revolution.extension.actions.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.carousel.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.kenburn.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.layeranimation.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.migration.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.navigation.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.parallax.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.slideanims.min.js"></script>
    <script src="revolution/js/extensions/revolution.extension.video.min.js"></script>
    <!-- setting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="/js/prologueConnected.js"></script>
    <script>
      /*jQuery(document).ready(($) => {
        $(".quantity").on("click", ".plus", function (e) {
          let $input = $(this).prev("input.qty");
          let val = parseInt($input.val());
          $input.val(val + 1).change();
        });
        $(".quantity").on("click", ".minus", function (e) {
          let $input = $(this).next("input.qty");
          var val = parseInt($input.val());
          if (val > 0) {
            $input.val(val - 1).change();
          }
        });
      });*/
    </script>
    <script src="js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"></script>
    <script>
      var app = new Vue({
        el: "#TheMint",
        data: {
          theMint: 2,
        },
      });
    </script>
    <script>
      let web3 = new Web3(Web3.givenProvider || "https://polygon-rpc.com/");
      let address = "0x55452eE058491527632d2DB135C201dB51612101";
      let abi = [
        {
          inputs: [
            { internalType: "address", name: "_treasury", type: "address" },
          ],
          stateMutability: "nonpayable",
          type: "constructor",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              internalType: "address",
              name: "account",
              type: "address",
            },
            {
              indexed: true,
              internalType: "address",
              name: "operator",
              type: "address",
            },
            {
              indexed: false,
              internalType: "bool",
              name: "approved",
              type: "bool",
            },
          ],
          name: "ApprovalForAll",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: false,
              internalType: "string",
              name: "_category",
              type: "string",
            },
            {
              indexed: false,
              internalType: "uint256",
              name: "_maxSupply",
              type: "uint256",
            },
            {
              indexed: false,
              internalType: "uint256",
              name: "_price",
              type: "uint256",
            },
          ],
          name: "EventAdded",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: false,
              internalType: "string",
              name: "_category",
              type: "string",
            },
            {
              indexed: false,
              internalType: "address",
              name: "_attendee",
              type: "address",
            },
            {
              indexed: false,
              internalType: "uint256",
              name: "_amount",
              type: "uint256",
            },
          ],
          name: "EventAttended",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              internalType: "address",
              name: "previousOwner",
              type: "address",
            },
            {
              indexed: true,
              internalType: "address",
              name: "newOwner",
              type: "address",
            },
          ],
          name: "OwnershipTransferred",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: false,
              internalType: "string",
              name: "_category",
              type: "string",
            },
            {
              indexed: false,
              internalType: "address",
              name: "_user",
              type: "address",
            },
            {
              indexed: false,
              internalType: "uint256",
              name: "_amount",
              type: "uint256",
            },
          ],
          name: "PassesMinted",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: false,
              internalType: "address",
              name: "account",
              type: "address",
            },
          ],
          name: "Paused",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              internalType: "address",
              name: "operator",
              type: "address",
            },
            {
              indexed: true,
              internalType: "address",
              name: "from",
              type: "address",
            },
            {
              indexed: true,
              internalType: "address",
              name: "to",
              type: "address",
            },
            {
              indexed: false,
              internalType: "uint256[]",
              name: "ids",
              type: "uint256[]",
            },
            {
              indexed: false,
              internalType: "uint256[]",
              name: "values",
              type: "uint256[]",
            },
          ],
          name: "TransferBatch",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: true,
              internalType: "address",
              name: "operator",
              type: "address",
            },
            {
              indexed: true,
              internalType: "address",
              name: "from",
              type: "address",
            },
            {
              indexed: true,
              internalType: "address",
              name: "to",
              type: "address",
            },
            {
              indexed: false,
              internalType: "uint256",
              name: "id",
              type: "uint256",
            },
            {
              indexed: false,
              internalType: "uint256",
              name: "value",
              type: "uint256",
            },
          ],
          name: "TransferSingle",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: false,
              internalType: "string",
              name: "value",
              type: "string",
            },
            {
              indexed: true,
              internalType: "uint256",
              name: "id",
              type: "uint256",
            },
          ],
          name: "URI",
          type: "event",
        },
        {
          anonymous: false,
          inputs: [
            {
              indexed: false,
              internalType: "address",
              name: "account",
              type: "address",
            },
          ],
          name: "Unpaused",
          type: "event",
        },
        {
          inputs: [],
          name: "_collectionUri",
          outputs: [{ internalType: "string", name: "", type: "string" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
            { internalType: "string", name: "_uri", type: "string" },
            { internalType: "uint256", name: "_supply", type: "uint256" },
            { internalType: "uint256", name: "_price", type: "uint256" },
          ],
          name: "addEvent",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "account", type: "address" },
            { internalType: "uint256", name: "id", type: "uint256" },
          ],
          name: "balanceOf",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address[]", name: "accounts", type: "address[]" },
            { internalType: "uint256[]", name: "ids", type: "uint256[]" },
          ],
          name: "balanceOfBatch",
          outputs: [{ internalType: "uint256[]", name: "", type: "uint256[]" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          name: "categories",
          outputs: [{ internalType: "string", name: "", type: "string" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "_user", type: "address" },
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "checkInvite",
          outputs: [{ internalType: "bool", name: "", type: "bool" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [],
          name: "contractURI",
          outputs: [{ internalType: "string", name: "", type: "string" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [{ internalType: "string", name: "", type: "string" }],
          name: "events",
          outputs: [
            { internalType: "uint256", name: "tokenId", type: "uint256" },
            { internalType: "uint256", name: "maxSupply", type: "uint256" },
            { internalType: "uint256", name: "available", type: "uint256" },
            { internalType: "uint256", name: "price", type: "uint256" },
            { internalType: "string", name: "category", type: "string" },
            { internalType: "string", name: "uri", type: "string" },
          ],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "getEventDetails",
          outputs: [
            {
              components: [
                { internalType: "uint256", name: "tokenId", type: "uint256" },
                { internalType: "uint256", name: "maxSupply", type: "uint256" },
                { internalType: "uint256", name: "available", type: "uint256" },
                { internalType: "uint256", name: "price", type: "uint256" },
                { internalType: "string", name: "category", type: "string" },
                { internalType: "string", name: "uri", type: "string" },
              ],
              internalType: "struct EventPasses.Event",
              name: "",
              type: "tuple",
            },
          ],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "account", type: "address" },
            { internalType: "address", name: "operator", type: "address" },
          ],
          name: "isApprovedForAll",
          outputs: [{ internalType: "bool", name: "", type: "bool" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
            { internalType: "uint256", name: "_amount", type: "uint256" },
          ],
          name: "mintPasses",
          outputs: [],
          stateMutability: "payable",
          type: "function",
        },
        {
          inputs: [],
          name: "owner",
          outputs: [{ internalType: "address", name: "", type: "address" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [],
          name: "pause",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [],
          name: "paused",
          outputs: [{ internalType: "bool", name: "", type: "bool" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [],
          name: "renounceOwnership",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [],
          name: "returnAllCategories",
          outputs: [{ internalType: "string[]", name: "", type: "string[]" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "returnAvailablePassesForEvent",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "returnPassPriceForEvent",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "returnTokenIdForEvent",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "returnTotalPassesForEvent",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "_user", type: "address" },
            { internalType: "string", name: "_category", type: "string" },
          ],
          name: "returnUserPassesForEvent",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "uint256", name: "tokenId", type: "uint256" },
            { internalType: "uint256", name: "salePrice", type: "uint256" },
          ],
          name: "royaltyInfo",
          outputs: [
            { internalType: "address", name: "receiver", type: "address" },
            { internalType: "uint256", name: "royaltyAmount", type: "uint256" },
          ],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [],
          name: "royaltyPercentage",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "from", type: "address" },
            { internalType: "address", name: "to", type: "address" },
            { internalType: "uint256[]", name: "ids", type: "uint256[]" },
            { internalType: "uint256[]", name: "amounts", type: "uint256[]" },
            { internalType: "bytes", name: "data", type: "bytes" },
          ],
          name: "safeBatchTransferFrom",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "from", type: "address" },
            { internalType: "address", name: "to", type: "address" },
            { internalType: "uint256", name: "id", type: "uint256" },
            { internalType: "uint256", name: "amount", type: "uint256" },
            { internalType: "bytes", name: "data", type: "bytes" },
          ],
          name: "safeTransferFrom",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "operator", type: "address" },
            { internalType: "bool", name: "approved", type: "bool" },
          ],
          name: "setApprovalForAll",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [{ internalType: "string", name: "_uri", type: "string" }],
          name: "setCollectionUri",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "uint256", name: "_royalty", type: "uint256" },
          ],
          name: "setRoyaltyPercentage",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "_treasury", type: "address" },
          ],
          name: "setTreasury",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "uint256", name: "_limit", type: "uint256" },
          ],
          name: "setWalletLimitForEachEvent",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "bytes4", name: "interfaceId", type: "bytes4" },
          ],
          name: "supportsInterface",
          outputs: [{ internalType: "bool", name: "", type: "bool" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [
            { internalType: "address", name: "newOwner", type: "address" },
          ],
          name: "transferOwnership",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [],
          name: "unPause",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
            { internalType: "uint256", name: "_supply", type: "uint256" },
          ],
          name: "updateEventMaxSupply",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
            { internalType: "uint256", name: "_price", type: "uint256" },
          ],
          name: "updateEventPrice",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [
            { internalType: "string", name: "_category", type: "string" },
            { internalType: "string", name: "_uri", type: "string" },
          ],
          name: "updateEventUri",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
        {
          inputs: [{ internalType: "uint256", name: "_id", type: "uint256" }],
          name: "uri",
          outputs: [{ internalType: "string", name: "", type: "string" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [],
          name: "walletLimitForEachEvent",
          outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
          stateMutability: "view",
          type: "function",
        },
        {
          inputs: [],
          name: "withdrawFunds",
          outputs: [],
          stateMutability: "nonpayable",
          type: "function",
        },
      ];

      let contract = new web3.eth.Contract(abi, address);
      console.log(contract);

      async function connect() {
        await web3.eth.requestAccounts().then(async (res) => {
          await window.ethereum.enable();
          console.log(res[0]);
          let add1 = `${res[0].substr(0, 3)} ....${res[0].substr(
            res[0].length - 3,
            res[0].length
          )}`;
          document.getElementById("wallet-connect").innerText = add1;
          let tickets = await contract.methods
            .returnUserPassesForEvent(res[0], "ticket")
            .call();

          let userObj = {
            address: res[0],
            tickets: tickets,
          };

          window.user = userObj;

          try {
            await window.ethereum.request({
              method: "wallet_switchEthereumChain",
              params: [{ chainId: "0x4" }],
            });
          } catch (switchError) {
            // This error code indicates that the chain has not been added to MetaMask.
            if (switchError.code === 4902) {
              try {
                await window.ethereum.request({
                  method: "wallet_addEthereumChain",
                  params: [
                    {
                      chainId: "0x4",
                      chainName: "Rinkeby Test Network",
                      rpcUrls: ["https://rinkeby.infura.io/v3/"] /* ... */,
                    },
                  ],
                });
              } catch (addError) {
                alert("Please switch to polygon network.");
              }
            }
            // handle other "switch" errors
          }
        });
      }

      async function hasTicket() {
        let userAddress = window.user.address;
        console.log(window.user);

        let tickets = window.user.tickets;
        if (tickets > 0) {
          console.log(tickets);
          return true;
        }
        return false;
      }

      async function mintTicket() {
        if (!window.user) {
          await connect();
        } else {
          let userHasTicket = await hasTicket();
          if (userHasTicket) {
            alert("You already have the ticket");
          } else {
            let userAddress = window.user.address;
            console.log(userAddress);
            try {
              await contract.methods
                .mintPasses("ticket", 1)
                .send({ from: userAddress });
              window.user.tickets = 1;
              alert("Ticket minted");
            } catch (err) {
              console.log(err);
            }
          }
        }
      }

      async function getAllCategories() {
        let categories = await contract.methods.returnAllCategories().call();

        let eventData = [];
        for (let i = 0; i < categories.length; ++i) {
          if (categories[i] != "ticket") {
            let tokenId = await contract.methods
              .returnTokenIdForEvent(categories[i])
              .call();
            let uri = await contract.methods.uri(tokenId).call();

            fetch(uri)
              .then((response) => {
                /*
                      {
      "name": "Deera_0004",
      "image": "https://gateway.pinata.cloud/ipfs/QmNb7Vk2R7SW391196iiCLf9M5VGWchyoW32wnCux5okxP",
      "description": "This Deera was created by sj",
      "properties": {
      "gen": 0,
      "background": "Pattern",
      "body": "Pattern",
      "eyes": "white",
      "hat": "Pattern",
      "mask": "No",
      "shirt": "No",
      "stripe": 1
      }
      }*/
                return response.json();
              })
              .then((data) => {
                eventData.push(data);
              });
          }
        }
        console.log(eventData);
        return eventData;
      }

      getAllCategories();

      // display details for free tickets
      async function getTicketDetails() {
        let tokenId = await contract.methods
          .returnTokenIdForEvent("ticket")
          .call();

        let uri = await contract.methods.uri(tokenId).call();

        fetch(uri)
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            document.getElementById("ticket-name").innerText = data.name;
            document.getElementById("ticket-des").innerText = data.description;
          });
      }

      getTicketDetails();

      async function mintCategoryPass(category, amount) {
        if (!window.user) {
          await connect();
        } else {
          try {
            let userAddress = window.user.address;
            let price = await contract.methods
              .returnPassPriceForEvent(category)
              .call();

            await contract.methods.mintPasses(category, amount).send({
              from: userAddress,
              value: Number(price) * amount,
            });

            alert("passes minted");
          } catch (err) {
            console.log(err);
          }
        }
      }

      let elements = document.getElementsByClassName("qty");
      document.getElementById("mint-moon").onclick = () =>
        mintCategoryPass("moon", parseInt(elements[0].value));

      document.getElementById("mint-sun").onclick = () =>
        mintCategoryPass("moon", parseInt(elements[1].value));
      document.getElementById("mint-stars").onclick = () =>
        mintCategoryPass("moon", parseInt(elements[2].value));

      document.getElementById("wallet-connect").onclick = connect;
      document.getElementById("wallet-connect2").onclick = mintTicket;

      (function () {
        document
          .getElementsByClassName("minus")[0]
          .addEventListener("click", function () {
            let val = document.getElementsByClassName("qty")[0].value;
            console.log(val);
            val = parseInt(val);
            if (val > 1) {
              document.getElementsByClassName("qty")[0].value = String(val - 1);
            }
          });
        document
          .getElementsByClassName("plus")[0]
          .addEventListener("click", function () {
            let val = document.getElementsByClassName("qty")[0].value;
            console.log(val);
            val = parseInt(val);
            if (val < 5) {
              document.getElementsByClassName("qty")[0].value = String(val + 1);
            }
          });

        document
          .getElementsByClassName("minus")[1]
          .addEventListener("click", function () {
            let val = document.getElementsByClassName("qty")[1].value;
            console.log(val);
            val = parseInt(val);
            if (val > 1) {
              document.getElementsByClassName("qty")[1].value = String(val - 1);
            }
          });
        document
          .getElementsByClassName("plus")[1]
          .addEventListener("click", function () {
            let val = document.getElementsByClassName("qty")[1].value;
            console.log(val);
            val = parseInt(val);
            if (val < 5) {
              document.getElementsByClassName("qty")[1].value = String(val + 1);
            }
          });

        document
          .getElementsByClassName("minus")[2]
          .addEventListener("click", function () {
            let val = document.getElementsByClassName("qty")[2].value;
            console.log(val);
            val = parseInt(val);
            if (val > 1) {
              document.getElementsByClassName("qty")[2].value = String(val - 1);
            }
          });
        document
          .getElementsByClassName("plus")[2]
          .addEventListener("click", function () {
            let val = document.getElementsByClassName("qty")[2].value;
            console.log(val);
            val = parseInt(val);
            if (val < 5) {
              document.getElementsByClassName("qty")[2].value = String(val + 1);
            }
          });
      })();
    </script>
  </body>
</html>
